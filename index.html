<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock Paper Scissors</title>
</head>
<body>
    <h1>Welcome!</h1>
    <div id="rpsbuttons">
        <button id="rock">Rock</button>
        <button id="paper">Paper</button>
        <button id="scissors">Scissors</button>
    </div>
    <div id="result"><h3>Result goes here</h3></div>
    <div id="scoreboard">
        <h3 id="userscore">User score: <span>0</span></h3>
        <h3 id="computerscore">Computer score: <span>0</span></h3>
    </div>
</body>
<script>

    const rpsbuttons = document.querySelectorAll('button');
    let result = document.querySelector('#result h3');
    let userscore = document.querySelector('#userscore span');

    rpsbuttons.forEach((button) => {
        button.addEventListener("click", () => {
            // result.textContent = playRound(button.id);
            result.textContent = playRound(button.id)[1];
            if (playRound(button.id)[0] == "player"){
                userscore++;
            }
            userscore.textContent = playRound(button.id)[0];
        });
    });

    
    //Function that returns random computer choice
    function computerPlay(){
        const options = ["rock", "paper", "scissors"];
        let choice = Math.floor(Math.random()*3);
        return options[choice];
    };


    //Function that plays round
    function playRound(playerSelection){
        let computerSelection = computerPlay();
        let winner = "";
        let message = "";

        console.log(playerSelection + computerSelection);

        if (playerSelection == "rock") {
                switch (computerSelection) {
                    case "rock": return ("Tie! Rock ties with rock"); 
                    break;
                    case "paper": return ("You lose! Rock loses to paper")
                    break;
                    case "scissors": 
                        winner = "player";
                        message = "You win! Rock beats scissors";
                    break;
                }
            }
        if (playerSelection == "paper") {
            switch (computerSelection) {
                case "rock": return ("You win! Paper beats rock"); 
                break;
                case "paper": return ("Tie! Paper ties with paper")
                break;
                case "scissors": return ("You lose! Paper loses to scissors")
                break;
            }
        }
        if (playerSelection == "scissors") {
            switch (computerSelection) {
                case "rock": return ("You lose! Scissors lose to rock"); 
                break;
                case "paper": return ("You win! Scissors beat paper")
                break;
                case "scissors": return ("Tie! Scissors tie with scissors")
                break;
            }
        }
        return [winner, message];
    }
    

</script>
</html>